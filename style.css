/* === MENU OVERLAY (FULL SCREEN 3D + BLUR) === */
.menu-overlay {
    position: fixed; inset: 0; background: #050505; z-index: 200;
    display: flex; flex-direction: column; justify-content: center; 
    align-items: center;
    opacity: 0; pointer-events: none; transition: 0.5s cubic-bezier(0.7, 0, 0.3, 1);
    visibility: hidden;
    overflow: hidden; /* Ensure 3D doesn't spill */
}
.menu-overlay.active { opacity: 1; pointer-events: all; visibility: visible; }

/* The 3D Canvas Container - Now Full Screen Background */
#menu-3d-container { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; /* Let clicks pass through */
    z-index: 0; /* Sit behind content */
}

/* The Wrapper for Text/Links - Sits in front */
.menu-content-wrapper {
    display: flex; width: 100%; max-width: 1400px;
    justify-content: flex-end; /* Align links right */
    align-items: center; padding: 0 50px;
    position: relative; z-index: 10; /* Higher than 3D */
    height: 100%; /* Full height for vertical centering */
}

/* The Container holding the links - Applies the Blur */
.menu-links-container { 
    width: 50%; display: flex; justify-content: flex-end;
    /* BLUR EFFECT START */
    backdrop-filter: blur(12px); 
    -webkit-backdrop-filter: blur(12px); /* Safari support */
    background: rgba(5, 5, 5, 0.2); /* Slight dark tint to enhance blur */
    padding: 40px; /* Add padding around blur area */
    border-radius: 20px; /* Soft edges for blur area */
    /* BLUR EFFECT END */
}

.menu-links { display: flex; flex-direction: column; text-align: right; gap: 20px; }

.m-link {
    font-family: var(--font-display); font-size: 60px; color: transparent;
    -webkit-text-stroke: 1px rgba(255,255,255,0.5); text-decoration: none;
    text-transform: uppercase; transition: 0.3s; display: inline-block;
    cursor: pointer !important;
}
.m-link:hover { color: white; -webkit-text-stroke: 1px white; transform: translateX(-20px); }

.menu-footer { 
    position: absolute; bottom: 50px; width: 100%; max-width: 1400px;
    display: flex; justify-content: space-between; padding: 0 50px; 
    font-family: var(--font-mono); font-size: 12px; color: #666; 
    left: 50%; transform: translateX(-50%);
    z-index: 20;
}
.menu-close { cursor: pointer; color: white; padding: 10px; }

/* Mobile Adjustment */
@media (max-width: 768px) {
    .menu-content-wrapper { justify-content: center; }
    .menu-links-container { width: 100%; justify-content: center; backdrop-filter: none; background: none; } /* Disable blur on mobile for performance/layout */
    .menu-links { text-align: center; }
    .m-link { font-size: 32px; }
    .m-link:hover { transform: none; }
    /* On mobile, maybe hide the giant rocket or make it smaller, it gets crowded */
    #menu-3d-container { opacity: 0.5; } 
}
